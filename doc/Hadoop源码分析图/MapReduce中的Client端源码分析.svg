<svg id="SvgjsSvg1006" width="1254.4001007080078" height="828" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1019" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1020" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1040" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1041" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1048" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1049" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1065" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1066" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1073" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1074" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1092" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1093" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1138" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1139" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1162" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1163" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(25,35.99999237060547)"><path id="SvgjsPath1009" d="M 46 30L 46 676" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1010" d="M 0 0L 92 0L 92 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1011"><text id="SvgjsText1012" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="72px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1013" dy="16" x="46"><tspan id="SvgjsTspan1014" style="text-decoration:;">main</tspan></tspan></text></g></g><g id="SvgjsG1015" transform="translate(56,89.99999237060547)"><path id="SvgjsPath1016" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 96Q 30 100 26 100L 4 100Q 0 100 0 96L 0 4Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1017"><path id="SvgjsPath1018" d="M85 108.99999237060547L209.29999542236328 108.99999237060547L209.29999542236328 107.23848946660837L333.59999084472656 107.23848946660837" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1019)"></path><rect id="SvgjsRect1021" width="145" height="48" x="124.36999588012696" y="84.99999237060547" fill="#ffffff"></rect><text id="SvgjsText1022" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="145px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="83.04999237060547" transform="rotate(0)"><tspan id="SvgjsTspan1023" dy="16" x="196.86999588012696"><tspan id="SvgjsTspan1024" style="text-decoration:;">通过main函数调用</tspan></tspan><tspan id="SvgjsTspan1025" dy="16" x="196.86999588012696"><tspan id="SvgjsTspan1026" style="text-decoration:;">waitForCompletion方法</tspan></tspan><tspan id="SvgjsTspan1027" dy="16" x="196.86999588012696"><tspan id="SvgjsTspan1028" style="text-decoration:;">进入</tspan></tspan></text></g><g id="SvgjsG1029" transform="translate(292,32.99999237060547)"><path id="SvgjsPath1030" d="M 58 30L 58 676" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1031" d="M 0 0L 116 0L 116 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1032"><text id="SvgjsText1033" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="96px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1034" dy="16" x="58"><tspan id="SvgjsTspan1035" style="text-decoration:;">Job类</tspan></tspan></text></g></g><g id="SvgjsG1036" transform="translate(333,80.99999237060547)"><path id="SvgjsPath1037" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 350.5999984741211Q 30 354.5999984741211 26 354.5999984741211L 4 354.5999984741211Q 0 354.5999984741211 0 350.5999984741211L 0 4Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1038"><path id="SvgjsPath1039" d="M363 101.91473758891824L393 101.91473758891824L393 214.09382557805037L363 214.09382557805037" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1040)"></path><rect id="SvgjsRect1042" width="78" height="16" x="354" y="150.00428158348433" fill="#ffffff"></rect><text id="SvgjsText1043" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="78px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="148.05428158348434" transform="rotate(0)"><tspan id="SvgjsTspan1044" dy="16" x="393"><tspan id="SvgjsTspan1045" style="text-decoration:;">调用submit()</tspan></tspan></text></g><g id="SvgjsG1046"><path id="SvgjsPath1047" d="M363 265.4300183866363L469.5 265.4300183866363L469.5 266.99999237060547L576 266.99999237060547" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1048)"></path><rect id="SvgjsRect1050" width="138" height="16" x="400.5" y="258.21500537862084" fill="#ffffff"></rect><text id="SvgjsText1051" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="138px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="256.26500537862086" transform="rotate(0)"><tspan id="SvgjsTspan1052" dy="16" x="469.5"><tspan id="SvgjsTspan1053" style="text-decoration:;">调用submitJobInternal</tspan></tspan></text></g><g id="SvgjsG1054" transform="translate(522,24.99999237060547)"><path id="SvgjsPath1055" d="M 68.5 30L 68.5 675" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1056" d="M 0 0L 137 0L 137 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1057"><text id="SvgjsText1058" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="117px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.05" transform="rotate(0)"><tspan id="SvgjsTspan1059" dy="16" x="68.5"><tspan id="SvgjsTspan1060" style="text-decoration:;">JobSubmitter类</tspan></tspan></text></g></g><g id="SvgjsG1061" transform="translate(575.5,240.99999237060547)"><path id="SvgjsPath1062" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 176Q 30 180 26 180L 4 180Q 0 180 0 176L 0 4Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1063"><path id="SvgjsPath1064" d="M604.5999908447266 271.59999084472656L634.5999908447266 271.59999084472656L634.5999908447266 316.59999084472656L604.5999908447266 316.59999084472656" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1065)"></path><rect id="SvgjsRect1067" width="99" height="16" x="585.0999908447266" y="286.09999084472656" fill="#ffffff"></rect><text id="SvgjsText1068" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="99px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="284.1499908447266" transform="rotate(0)"><tspan id="SvgjsTspan1069" dy="16" x="634.5999908447266"><tspan id="SvgjsTspan1070" style="text-decoration:;">调用writeSplits()</tspan></tspan></text></g><g id="SvgjsG1071"><path id="SvgjsPath1072" d="M603.5999908447266 344.59999084472656L633.5999908447266 343.59999084472656L632.5999908447266 383.59999084472656L602.5999908447266 384.59999084472656" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1073)"></path><rect id="SvgjsRect1075" width="118" height="16" x="574.0999908447266" y="355.59999084472656" fill="#ffffff"></rect><text id="SvgjsText1076" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="118px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="353.6499908447266" transform="rotate(0)"><tspan id="SvgjsTspan1077" dy="16" x="633.0999908447266"><tspan id="SvgjsTspan1078" style="text-decoration:;">调用writeNewSplits</tspan></tspan></text></g><g id="SvgjsG1079" transform="translate(751.5999908447266,24.99999237060547)"><path id="SvgjsPath1080" d="M 64.20000457763672 30L 64.20000457763672 778.3333435058594" stroke-dasharray="3,4" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><path id="SvgjsPath1081" d="M 0 0L 128.40000915527344 0L 128.40000915527344 30L 0 30Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1082"><text id="SvgjsText1083" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="109px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-2.95" transform="rotate(0)"><tspan id="SvgjsTspan1084" dy="16" x="64.5"><tspan id="SvgjsTspan1085" style="text-decoration:;">FileInputFormat</tspan></tspan><tspan id="SvgjsTspan1086" dy="16" x="64.5"><tspan id="SvgjsTspan1087" style="text-decoration:;">类</tspan></tspan></text></g></g><g id="SvgjsG1088" transform="translate(800.7999954223633,390.99999237060547)"><path id="SvgjsPath1089" d="M 0 4Q 0 0 4 0L 26 0Q 30 0 30 4L 30 397.8095310756137Q 30 401.8095310756137 26 401.8095310756137L 4 401.8095310756137Q 0 401.8095310756137 0 397.8095310756137L 0 4Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path></g><g id="SvgjsG1090"><path id="SvgjsPath1091" d="M604.5999908447266 405.5999927520752L699.0999908447266 405.5999927520752L699.0999908447266 405.5999927520752L793.5999908447266 405.5999927520752" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1092)"></path><rect id="SvgjsRect1094" width="125" height="32" x="636.5999908447266" y="389.5999927520752" fill="#ffffff"></rect><text id="SvgjsText1095" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="125px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="387.6499927520752" transform="rotate(0)"><tspan id="SvgjsTspan1096" dy="16" x="699.0999908447266"><tspan id="SvgjsTspan1097" style="text-decoration:;">调用FileInputFormat</tspan></tspan><tspan id="SvgjsTspan1098" dy="16" x="699.0999908447266"><tspan id="SvgjsTspan1099" style="text-decoration:;">实现类中的getSplits</tspan></tspan></text></g><g id="SvgjsG1100" transform="translate(750.8857051304416,78.52379826136996)"><path id="SvgjsPath1101" d="M 0 0L 438.44762420654195 0L 454.44762420654195 16L 454.44762420654195 259.99999999999994L 0 259.99999999999994L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1102" d="M 438.44762420654195 0L 438.44762420654195 16L 454.44762420654195 16" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1103" d="M 0 0L 438.44762420654195 0L 454.44762420654195 16L 454.44762420654195 259.99999999999994L 0 259.99999999999994L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><g id="SvgjsG1104"><text id="SvgjsText1105" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="435px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="8.049999999999972" transform="rotate(0)"><tspan id="SvgjsTspan1106" dy="16" x="227.5"><tspan id="SvgjsTspan1107" style="text-decoration:;">整个客户端最重要的就是这个inputFormat抽象类中的getSplits这个方法，</tspan></tspan><tspan id="SvgjsTspan1108" dy="16" x="227.5"><tspan id="SvgjsTspan1109" style="text-decoration:;">它实现了hdfs中的block快到split切片的转换，具体代码：</tspan></tspan><tspan id="SvgjsTspan1110" dy="16" x="227.5"><tspan id="SvgjsTspan1111" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1112" dy="16" x="227.5"><tspan id="SvgjsTspan1113" style="text-decoration:;">while (((double) bytesRemaining)/splitSize &gt; SPLIT_SLOP) {</tspan></tspan><tspan id="SvgjsTspan1114" dy="16" x="227.5"><tspan id="SvgjsTspan1115" style="text-decoration:;">            int blkIndex = getBlockIndex(blkLocations, length-</tspan></tspan><tspan id="SvgjsTspan1116" dy="16" x="227.5"><tspan id="SvgjsTspan1117" style="text-decoration:;">bytesRemaining);</tspan></tspan><tspan id="SvgjsTspan1118" dy="16" x="227.5"><tspan id="SvgjsTspan1119" style="text-decoration:;">            splits.add(makeSplit(path, length-bytesRemaining, splitSize,</tspan></tspan><tspan id="SvgjsTspan1120" dy="16" x="227.5"><tspan id="SvgjsTspan1121" style="text-decoration:;">                        blkLocations[blkIndex].getHosts(),</tspan></tspan><tspan id="SvgjsTspan1122" dy="16" x="227.5"><tspan id="SvgjsTspan1123" style="text-decoration:;">                        blkLocations[blkIndex].getCachedHosts()));</tspan></tspan><tspan id="SvgjsTspan1124" dy="16" x="227.5"><tspan id="SvgjsTspan1125" style="text-decoration:;">            bytesRemaining -= splitSize;</tspan></tspan><tspan id="SvgjsTspan1126" dy="16" x="227.5"><tspan id="SvgjsTspan1127" style="text-decoration:;">          }</tspan></tspan><tspan id="SvgjsTspan1128" dy="16" x="227.5"><tspan id="SvgjsTspan1129" style="text-decoration:;">得到重要的splits集合里面就是各个切片的h：（dfs文件对应的路径，各个</tspan></tspan><tspan id="SvgjsTspan1130" dy="16" x="227.5"><tspan id="SvgjsTspan1131" style="text-decoration:;">切片的起始位置，切片的大小，切片所有的机器，切片所在的缓存的机器）</tspan></tspan><tspan id="SvgjsTspan1132" dy="16" x="227.5"><tspan id="SvgjsTspan1133" style="text-decoration:;font-weight: bold;text-decoration: underline;fill: rgb(51, 51, 255);">这些信息就能够实现计算向数据移动（特别是拿到了所有切片文件对应的机</tspan></tspan><tspan id="SvgjsTspan1134" dy="16" x="227.5"><tspan id="SvgjsTspan1135" style="text-decoration:;font-weight: bold;text-decoration: underline;fill: rgb(51, 51, 255);">器位置）</tspan></tspan></text></g></g><g id="SvgjsG1136"><path id="SvgjsPath1137" d="M830.3333293369836 407.0952377319335L860.3333293369836 407.0952377319335L860.3333293369836 558.5238091605049L830.3333293369836 558.5238091605049" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1138)"></path><rect id="SvgjsRect1140" width="108" height="32" x="806.3333293369836" y="466.8095234462192" fill="#ffffff"></rect><text id="SvgjsText1141" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="108px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="464.8595234462192" transform="rotate(0)"><tspan id="SvgjsTspan1142" dy="16" x="860.3333293369836"><tspan id="SvgjsTspan1143" style="text-decoration:;">computeSplitSize</tspan></tspan><tspan id="SvgjsTspan1144" dy="16" x="860.3333293369836"><tspan id="SvgjsTspan1145" style="text-decoration:;">计算切片的大小</tspan></tspan></text></g><g id="SvgjsG1146" transform="translate(928.41632391482,399.95236968994067)"><path id="SvgjsPath1147" d="M 0 0L 284.63809858049626 0L 300.63809858049626 16L 300.63809858049626 113.64762115478521L 0 113.64762115478521L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1148" d="M 284.63809858049626 0L 284.63809858049626 16L 300.63809858049626 16" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1149" d="M 0 0L 284.63809858049626 0L 300.63809858049626 16L 300.63809858049626 113.64762115478521L 0 113.64762115478521L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><g id="SvgjsG1150"><text id="SvgjsText1151" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="281px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="22.873810577392607" transform="rotate(0)"><tspan id="SvgjsTspan1152" dy="16" x="150.5"><tspan id="SvgjsTspan1153" style="text-decoration:;">计算切片大小的算法：return </tspan></tspan><tspan id="SvgjsTspan1154" dy="16" x="150.5"><tspan id="SvgjsTspan1155" style="text-decoration:;">Math.max(minSize, Math.min(maxSize, </tspan></tspan><tspan id="SvgjsTspan1156" dy="16" x="150.5"><tspan id="SvgjsTspan1157" style="text-decoration:;">blockSize));其中maxSize和minSize都是可以前</tspan></tspan><tspan id="SvgjsTspan1158" dy="16" x="150.5"><tspan id="SvgjsTspan1159" style="text-decoration:;">面自定义的，默认是block的大小</tspan></tspan></text></g></g><g id="SvgjsG1160"><path id="SvgjsPath1161" d="M830.3333293369836 618.5238091605048L860.3333293369836 618.5238091605048L860.3333293369836 750.6666663033619L830.3333293369836 750.6666663033619" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1162)"></path><rect id="SvgjsRect1164" width="89" height="32" x="815.8333293369836" y="668.5952377319334" fill="#ffffff"></rect><text id="SvgjsText1165" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="89px" fill="#323232" font-weight="400" align="top" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="666.6452377319333" transform="rotate(0)"><tspan id="SvgjsTspan1166" dy="16" x="860.3333293369836"><tspan id="SvgjsTspan1167" style="text-decoration:;">getBlockIndex</tspan></tspan><tspan id="SvgjsTspan1168" dy="16" x="860.3333293369836"><tspan id="SvgjsTspan1169" style="text-decoration:;">计算切片位置</tspan></tspan></text></g><g id="SvgjsG1170" transform="translate(908.9047579084122,626.3809411185117)"><path id="SvgjsPath1171" d="M 0 0L 287.7210931583327 0L 303.7210931583327 16L 303.7210931583327 134.2857251848502L 0 134.2857251848502L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1172" d="M 287.7210931583327 0L 287.7210931583327 16L 303.7210931583327 16" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff33"></path><path id="SvgjsPath1173" d="M 0 0L 287.7210931583327 0L 303.7210931583327 16L 303.7210931583327 134.2857251848502L 0 134.2857251848502L 0 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill="none"></path><g id="SvgjsG1174"><text id="SvgjsText1175" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="284px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="9.192862592425104" transform="rotate(0)"><tspan id="SvgjsTspan1176" dy="16" x="152"><tspan id="SvgjsTspan1177" style="text-decoration:;">计算切片在整个HDFS文件中那个block块上算</tspan></tspan><tspan id="SvgjsTspan1178" dy="16" x="152"><tspan id="SvgjsTspan1179" style="text-decoration:;">法：if ((blkLocations[i].getOffset() &lt;= offset) </tspan></tspan><tspan id="SvgjsTspan1180" dy="16" x="152"><tspan id="SvgjsTspan1181" style="text-decoration:;">&amp;&amp;</tspan></tspan><tspan id="SvgjsTspan1182" dy="16" x="152"><tspan id="SvgjsTspan1183" style="text-decoration:;">          (offset &lt; blkLocations[i].getOffset() + </tspan></tspan><tspan id="SvgjsTspan1184" dy="16" x="152"><tspan id="SvgjsTspan1185" style="text-decoration:;">blkLocations[i].getLength())){</tspan></tspan><tspan id="SvgjsTspan1186" dy="16" x="152"><tspan id="SvgjsTspan1187" style="text-decoration:;">        return i;</tspan></tspan><tspan id="SvgjsTspan1188" dy="16" x="152"><tspan id="SvgjsTspan1189" style="text-decoration:;">      }</tspan></tspan></text></g></g></svg>